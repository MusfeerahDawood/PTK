@model PTK.Models.Chef

@{
    ViewData["Title"] = "Delete";
}

<div>
    <h4>Delete the Chef</h4>
    <hr />

    @{List<ChefofPizza> chefofPizzas = ViewData["chefofPizzas"] as List<ChefofPizza>; }
        @if (chefofPizzas.Count == 0)
       


    {
            <h3>Are you sure you want to delete this?</h3>
            <dl class="row">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Name)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Name)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Image)
                </dt>
                <dd class="col-sm-10">
                    <img style="width:200px; height:200px; border-radius:50%;" src="@Model.Image" alt="Alternate Text" />
                </dd>
              
            </dl>

            <form asp-action="Delete">
                <input type="hidden" asp-for="Id" />
                <input type="submit" value="Delete" class="btn btn-danger" /> |
                <a asp-action="Index">Back to List</a>
            </form>
        }
        else
        {
            <h5 class="bg-warning" style="padding:5px; text-align:center;">Sorry! We cannot delete this Chef because he/she is registered as a Chef of Pizza(s)</h5>
            <table style="text-align:center;">
                <thead>
                    <tr>
                        <th>Pizza Title</th>
                        <th>Pizza Cover</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var pizza in ViewData["pizzas"] as List<Pizza>)
                    {


                        foreach (var chefofPizza in chefofPizzas)
                        {
                            if (pizza.Id == chefofPizza.PizzaId)
                            {
                                <tr>
                                    <td style="width:200px;">@pizza.Title</td>
                                    <td><img style="width:200px;" src="@pizza.URL" alt="@pizza.Title" /></td>
                                </tr>
                            }
                        }

                    }
                </tbody>
            </table>
            <h5 class="bg-primary" style="padding:5px; text-align:center;">Please delete/update these pizzas before deletion of chef.</h5>
        }
   
</div>